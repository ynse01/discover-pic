<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>Discover the Picture</title>
        <link rel="stylesheet" href="dist/micon_nb/css/micon_nb.min.css">
        <link rel="stylesheet" href="index.css">
        <link rel="stylesheet" href="tooltip.css">
        <script src="dist/discover.js" type="module"></script>
        <script>
            var discover;
            var puzzles = ["with-solution2", "Random1"];
            function init() {
                puzzles.forEach((puzzle) => {
                    var url = "./puzzles/" + puzzle + ".json";
                    var div = document.createElement("div");
                    document.getElementById("container").appendChild(div);
                    var imageElement = document.createElement("image");
                    imageElement.setAttribute("alt", "[No Thumbnail]");
                    imageElement.setAttribute("id", "img");
                    var a = document.createElement("a");
                    a.href = "puzzle.html?" + puzzle;
                    DiscoverThePicture.thumbnail(url, (name, width, height, dataURL) => {
                        imageElement.setAttribute("width", width);
                        imageElement.setAttribute("height", height);
                        imageElement.style.width = width;
                        imageElement.style.heigth = height;
                        imageElement.setAttribute("src", dataURL);
                        var text = document.createTextNode(name);
                        a.appendChild(text);
                    });
                    div.appendChild(imageElement);
                    div.appendChild(a);
                });
            }
        </script>
    </head>
    <body onLoad="init();" class="body">
        <h3>Available puzzles:</h3>
        <div id="container">
        </div>
        <p>Create a new puzzle <a href="editor.html">here</a>.</p>
    </body>
</html>